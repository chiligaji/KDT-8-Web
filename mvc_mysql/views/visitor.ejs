<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>방명록 등록</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <form name="visitorLog">
      <fieldset>
        <legend>방명록 등록</legend>
        <input type="text" name="name" placeholder="사용자 이름" /><br />
        <input type="text" name="message" placeholder="방명록" /><br />
        <button type="button" onclick="axiosGet()">등록</button><br />
      </fieldset>
    </form>
    <script>
      function axiosGet() {
        console.log("get axios");
        const form = document.forms["visitorLog"];
        const input = {
          name: form.name.value,
          message: form.message.value,
        };
        axios({
          method: "GET",
          url: "axios",
          params: input,
        });
      }
    </script>
    <br />
    <table border="1" style="border-collapse: collapse">
      <thead>
        <tr>
          <th>ID</th>
          <th>작성자</th>
          <th>방명록</th>
          <th>수정</th>
          <th>삭제</th>
        </tr>
      </thead>
      <tbody>
        <% for (let i = 0; i < data.length; i++){ %>
        <tr id="tr_<%=data[i].id %>">
          <td><%= data[i].id%></td>
          <td><%= data[i].name%></td>
          <td><%= data[i].message%></td>
          <td><button type="button">수정</button></td>
          <td><button type="button">삭제</button></td>
        </tr>
        <% } %>
      </tbody>
    </table>
  </body>
</html>
